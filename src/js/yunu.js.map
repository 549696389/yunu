{"version":3,"sources":["yunu.js"],"names":["$","fn","imgAuto","co","arg","name","t","this","each","move","img","width","height","fncall","i_w","i_h","b_w","b_h","cover","box","margin","css","_h","Image","attr","_w","boxScale","opacity","parent","hasClass","src","wrapAll","window","resize","_","throttled","throttle","fadeTo"],"mappings":"aAAAA,EAAEC,GAAGC,QAAU,SAASC,EAAIF,GACxBA,EAAKA,MADT,IAAKC,EAAU,SAASC,EAATC,GACX,mBAAAH,EAAAI,IAAAJ,EAAAI,GAAAD,IAwDIE,OAtDAN,EAAAO,MAAIC,KAAA,WA6BC,SANDC,IAOH,GAAAC,EAAAC,MAAA,GAAAD,EAAAE,OAAA,EAAA,CACDC,EAAA,eAAgBH,GACRA,IAAIC,EAAJD,EAAAC,MACAE,EAAOH,EAAAE,OACHE,EAAMJ,EAAIC,QACVI,EAAML,EAAIE,SACVI,EAAAA,EAAUL,EAAJM,IAAYC,EAClBD,EAAAA,KAAME,MAAIP,OAASA,OAAA,OAAAQ,SAAAJ,GAAAF,EAAAC,GAAAE,GAAA,EAAA,aAEnBX,EAAEe,KAAIV,MAAC,OAAQC,OAAO,OAASQ,OAAO,WAAWJ,GAAOF,EAAPC,GAAFC,GAAA,EAA6B,OAE5EV,EAAEe,WAAKX,QAEXG,WAAOJ,GA5CnB,IAQQa,EARRhB,EAAAN,EAAAO,MAGQC,EAAK,IAAAe,MACLjB,IAAJ,SAAUA,EAAFkB,KAAR,cAAArB,GACIO,EAAAA,EAAMc,KAAID,SACVL,EAAAA,EAAAA,KAAUM,UACVC,EAAKnB,EAAOkB,KAAA,aAwCX,GA3CLlB,EAAAe,KAKIK,QAAaF,QAAKG,QALtB,IAAAjB,EAMIS,IANJb,EAAAkB,KAAA,QAOMlB,EAACsB,SAAAC,SAAD,iBAANvB,EAAAkB,KAAA,WAAAC,GAAAH,MACIQ,EAAMxB,EAAEkB,oCACJI,KACJT,MAAQM,EACJJ,OAAIC,IAEJhB,EAAAyB,QAAAZ,KAEJb,EAAEyB,EAAAA,UACLV,IAAA,WAAA,UACDF,GACIE,EAAIb,KAAA,WACJkB,IAAJpB,EAAcN,EAAAO,MACNC,EAAAA,OAAKF,EAAAK,QAAYe,GACjB1B,EAAAgC,QAAUC,OAAV,WACErB,EAAAA,OAASD,EAAAA,QAAQe,OAqBtB,mBAAAQ,EAAA,CACJ,IAAAC,EAAAD,EAAAE,SAAA3B,EAAA,KACGT,EAAAgC,QAAAC,OAAYE,QAEZnC,EAAEgC,QAAQC,OAAOE,GAEjBnC,EAAAA,OAAEgC,OAAQC,KAEZI","file":"yunu.js","sourcesContent":["$.fn.imgAuto = function(co, fn){\r\n    fn = fn || {};\r\n    var fncall = function(name, arg){\r\n        if (typeof fn[name] === 'function') fn[name](arg);\r\n    };\r\n    $(this).each(function(){\r\n        var t = $(this),\r\n            img = new Image(),\r\n            cover = t.attr('img-Auto') == 'cover'||co?true:false,\r\n            _w = t.attr('width'),\r\n            _h = t.attr('height'),\r\n            boxScale = t.attr('box-Scale'),\r\n            box;\r\n        t.css({'display':'block','opacity':0});\r\n        img.src = t.attr('src');\r\n        if ( !t.parent().hasClass('imgAuto_box') && ( t.attr('no-Box') || _w && _h ) ) {\r\n            box = $('<div class=\"imgAuto_box\"></div>');\r\n            box.css({\r\n                \"width\":_w,\r\n                \"height\":_h\r\n            });\r\n            t.wrapAll(box);\r\n        }\r\n        box = t.parent();\r\n        box.css('overflow', 'hidden');\r\n        if (boxScale) {\r\n            box.each(function () {\r\n                var t = $(this);\r\n                t.height(t.width()/boxScale);\r\n                $(window).resize(function () {\r\n                    t.height(t.width()/boxScale);\r\n                });\r\n            });\r\n        };\r\n        function move (){\r\n            if (img.width>0 || img.height>0) {\r\n                fncall('imgAutoStart', img);\r\n                var i_w = img.width;//原图宽\r\n                var i_h = img.height;//原图高\r\n                var b_w = box.width();//父元素宽\r\n                var b_h = box.height();//父元素高\r\n                if ( i_w/i_h < b_w/b_h === cover ) {\r\n                    t.css({'width':'100%','height':'auto','margin':-(b_w / (i_w/i_h) - b_h)/2 + 'px 0 0 0'});\r\n                }else{\r\n                    t.css({'width':'auto','height':'100%','margin':'0 0 0 ' + -(b_h * (i_w/i_h) - b_w)/2 + 'px'});\r\n                }\r\n                fncall('callback', img);\r\n            }else{\r\n                setTimeout(move);\r\n            }\r\n        }\r\n        if (typeof _ == 'function') {\r\n            var throttled = _.throttle(move, 300);\r\n            $(window).resize(throttled);\r\n        }else{\r\n            $(window).resize(move);\r\n        }\r\n        t.fadeTo('fast', 1);\r\n    });\r\n    return this;\r\n};"],"sourceRoot":"src/source/js"}