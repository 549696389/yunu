{"version":3,"sources":["yunu.js"],"names":["$","fn","imgAuto","co","fncall","name","arg","each","t","img","Image","cover","attr","_w","_h","boxScale","box","css","src","parent","hasClass","wrapAll","height","width","window","resize","move","i_w","i_h","b_w","b_h","setTimeout","_","throttled","throttle","fadeTo"],"mappings":";;AAAAA,EAAEC,EAAF,CAAKC,OAAL,GAAe,UAASC,EAAT,EAAaF,EAAb,EAAgB;AAC3BA,SAAKA,MAAM,EAAX;AACA,QAAIG,SAAS,SAATA,MAAS,CAASC,IAAT,EAAeC,GAAf,EAAmB;AAC5B,YAAI,OAAOL,GAAGI,IAAH,CAAP,KAAoB,UAAxB,EAAoCJ,GAAGI,IAAH,EAASC,GAAT;AACvC,KAFD;AAGAN,MAAE,IAAF,EAAQO,IAAR,CAAa,YAAU;AACnB,YAAIC,IAAIR,EAAE,IAAF,CAAR;AAAA,YACIS,MAAM,IAAIC,KAAJ,EADV;AAAA,YAEIC,QAAQH,EAAEI,IAAF,CAAO,UAAP,KAAsB,OAAtB,IAA+BT,EAA/B,GAAkC,IAAlC,GAAuC,KAFnD;AAAA,YAGIU,KAAKL,EAAEI,IAAF,CAAO,OAAP,CAHT;AAAA,YAIIE,KAAKN,EAAEI,IAAF,CAAO,QAAP,CAJT;AAAA,YAKIG,WAAWP,EAAEI,IAAF,CAAO,WAAP,CALf;AAAA,YAMII,GANJ;AAOAR,UAAES,GAAF,CAAM,EAAC,WAAU,OAAX,EAAmB,WAAU,CAA7B,EAAN;AACAR,YAAIS,GAAJ,GAAUV,EAAEI,IAAF,CAAO,KAAP,CAAV;AACA,YAAK,CAACJ,EAAEW,MAAF,GAAWC,QAAX,CAAoB,aAApB,CAAD,KAAyCZ,EAAEI,IAAF,CAAO,QAAP,KAAoBC,MAAMC,EAAnE,CAAL,EAA+E;AAC3EE,kBAAMhB,EAAE,iCAAF,CAAN;AACAgB,gBAAIC,GAAJ,CAAQ;AACJ,yBAAQJ,EADJ;AAEJ,0BAASC;AAFL,aAAR;AAIAN,cAAEa,OAAF,CAAUL,GAAV;AACH;AACDA,cAAMR,EAAEW,MAAF,EAAN;AACAH,YAAIC,GAAJ,CAAQ,UAAR,EAAoB,QAApB;AACA,YAAIF,QAAJ,EAAc;AACVC,gBAAIT,IAAJ,CAAS,YAAY;AACjB,oBAAIC,IAAIR,EAAE,IAAF,CAAR;AACAQ,kBAAEc,MAAF,CAASd,EAAEe,KAAF,KAAUR,QAAnB;AACAf,kBAAEwB,MAAF,EAAUC,MAAV,CAAiB,YAAY;AACzBjB,sBAAEc,MAAF,CAASd,EAAEe,KAAF,KAAUR,QAAnB;AACH,iBAFD;AAGH,aAND;AAOH;AACD,iBAASW,IAAT,GAAgB;AACZ,gBAAIjB,IAAIc,KAAJ,GAAU,CAAV,IAAed,IAAIa,MAAJ,GAAW,CAA9B,EAAiC;AAC7BlB,uBAAO,cAAP,EAAuBK,GAAvB;AACA,oBAAIkB,MAAMlB,IAAIc,KAAd,CAF6B,CAET;AACpB,oBAAIK,MAAMnB,IAAIa,MAAd,CAH6B,CAGR;AACrB,oBAAIO,MAAMb,IAAIO,KAAJ,EAAV,CAJ6B,CAIP;AACtB,oBAAIO,MAAMd,IAAIM,MAAJ,EAAV,CAL6B,CAKN;AACvB,oBAAKK,MAAIC,GAAJ,GAAUC,MAAIC,GAAd,KAAsBnB,KAA3B,EAAmC;AAC/BH,sBAAES,GAAF,CAAM,EAAC,SAAQ,MAAT,EAAgB,UAAS,MAAzB,EAAgC,UAAS,EAAEY,OAAOF,MAAIC,GAAX,IAAkBE,GAApB,IAAyB,CAAzB,GAA6B,UAAtE,EAAN;AACH,iBAFD,MAEK;AACDtB,sBAAES,GAAF,CAAM,EAAC,SAAQ,MAAT,EAAgB,UAAS,MAAzB,EAAgC,UAAS,WAAW,EAAEa,OAAOH,MAAIC,GAAX,IAAkBC,GAApB,IAAyB,CAApC,GAAwC,IAAjF,EAAN;AACH;AACDzB,uBAAO,UAAP,EAAmBK,GAAnB;AACH,aAZD,MAYK;AACDsB,2BAAWL,IAAX;AACH;AACJ;AACD,YAAI,OAAOM,CAAP,IAAY,UAAhB,EAA4B;AACxB,gBAAIC,YAAYD,EAAEE,QAAF,CAAWR,IAAX,EAAiB,GAAjB,CAAhB;AACA1B,cAAEwB,MAAF,EAAUC,MAAV,CAAiBQ,SAAjB;AACH,SAHD,MAGK;AACDjC,cAAEwB,MAAF,EAAUC,MAAV,CAAiBC,IAAjB;AACH;AACDlB,UAAE2B,MAAF,CAAS,MAAT,EAAiB,CAAjB;AACH,KArDD;AAsDA,WAAO,IAAP;AACH,CA5DD","file":"yunu.js","sourcesContent":["$.fn.imgAuto = function(co, fn){\r\n    fn = fn || {};\r\n    var fncall = function(name, arg){\r\n        if (typeof fn[name] === 'function') fn[name](arg);\r\n    };\r\n    $(this).each(function(){\r\n        var t = $(this),\r\n            img = new Image(),\r\n            cover = t.attr('img-Auto') == 'cover'||co?true:false,\r\n            _w = t.attr('width'),\r\n            _h = t.attr('height'),\r\n            boxScale = t.attr('box-Scale'),\r\n            box;\r\n        t.css({'display':'block','opacity':0});\r\n        img.src = t.attr('src');\r\n        if ( !t.parent().hasClass('imgAuto_box') && ( t.attr('no-Box') || _w && _h ) ) {\r\n            box = $('<div class=\"imgAuto_box\"></div>');\r\n            box.css({\r\n                \"width\":_w,\r\n                \"height\":_h\r\n            });\r\n            t.wrapAll(box);\r\n        }\r\n        box = t.parent();\r\n        box.css('overflow', 'hidden');\r\n        if (boxScale) {\r\n            box.each(function () {\r\n                var t = $(this);\r\n                t.height(t.width()/boxScale);\r\n                $(window).resize(function () {\r\n                    t.height(t.width()/boxScale);\r\n                });\r\n            });\r\n        };\r\n        function move (){\r\n            if (img.width>0 || img.height>0) {\r\n                fncall('imgAutoStart', img);\r\n                var i_w = img.width;//原图宽\r\n                var i_h = img.height;//原图高\r\n                var b_w = box.width();//父元素宽\r\n                var b_h = box.height();//父元素高\r\n                if ( i_w/i_h < b_w/b_h === cover ) {\r\n                    t.css({'width':'100%','height':'auto','margin':-(b_w / (i_w/i_h) - b_h)/2 + 'px 0 0 0'});\r\n                }else{\r\n                    t.css({'width':'auto','height':'100%','margin':'0 0 0 ' + -(b_h * (i_w/i_h) - b_w)/2 + 'px'});\r\n                }\r\n                fncall('callback', img);\r\n            }else{\r\n                setTimeout(move);\r\n            }\r\n        }\r\n        if (typeof _ == 'function') {\r\n            var throttled = _.throttle(move, 300);\r\n            $(window).resize(throttled);\r\n        }else{\r\n            $(window).resize(move);\r\n        }\r\n        t.fadeTo('fast', 1);\r\n    });\r\n    return this;\r\n};"],"sourceRoot":"src/source/js"}