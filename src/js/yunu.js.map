{"version":3,"sources":["yunu.js"],"names":["$","window","document","undefined","yunu","letter","arguments","times","fn","Date","timer","st","getTime","et","setTimeout","clearTimeout","throttle","length","type","_","this","scroll","imgAuto","co","fncall","name","arg","t","img","Image","each","attr","cover","_w","css","_h","opacity","boxScale","box","hasClass","parent","wrapAll","height","width","move","i_w","i_h","b_w","b_h","margin","jQuery"],"mappings":"cAAC,SAAEA,EAAGC,EAAQC,EAAUC,GACpBF,EAAOG,MADTC,OACgB,SADZJ,GACKG,GAAO,mBAAAE,UAAA,GAAPF,CACHC,IACI,IAAIE,EAAuB,iBAAhBD,UAAgB,GAAY,IAAAA,UAAA,GACvCE,EAAAA,KACID,GAAAA,IAAQE,MAAOH,UAAnB,OACII,WACAC,IAAAA,GAASF,IAAJA,MAAWG,UACbC,EAAAF,EAAAJ,GACCM,aAAKH,GACLG,EAAAC,WAAiB,WAEjBJ,KACIH,KAEHQ,aAHDL,GAFJC,EAMME,EACFE,QAIPC,SApBK,SAONR,GAAAF,UAAAW,OAAA,QARX,IAQWX,UAAA,IAAAA,UAAA,GAAA,IAAAY,EAAAZ,UAAA,GAPM,GAAA,mBAAAE,EAAA,CA8BN,OARJQ,IAKIR,EAL4B,mBAANU,EAKjBC,EAAEH,SAASR,EAAI,KAJhBY,KAAAf,OAAaG,EAAA,KAOTU,GAJR,IAAA,SAMQlB,EAAEC,GAAQoB,OAAOb,GAFjBU,MACJ,QACIlB,EAAEC,GAAQoB,OAAOb,GAErB,OAAAY,QAIPpB,EAAAQ,GAAAc,QAAA,SAAAC,EAAAf,GAtCLA,EAAAA,MA2CI,IAAIgB,EAAS,SAACC,EAAMC,GAFT,mBAAAlB,EAAAiB,IAAiBjB,EAAAiB,GAAAC,IA+ChBZ,OA7CZd,EAAAoB,MAAII,KAAS,WACT,IAAIG,EAAA3B,EAAAoB,MADRQ,EAAA,IAAAC,MAGQC,IAAgB,SAAXH,EAAAI,KAAA,cAAWR,GAChBI,EAAI3B,EAAE+B,KAAV,SACIH,EAAAA,EAAMG,KAAIF,UACVG,EAAUD,EAAAA,KAAK,aACfE,OAAAA,EAHJN,EAAAO,KAIIC,QAAY,QAJhBC,QAAA,IAAAR,EAKIS,IAAAA,EAAAA,KAAaN,QACbO,EAAAA,SANJC,SAAA,iBAAAZ,EAAAI,KAAA,WAAAE,GAAAE,MAOED,EAAKlC,EAAA,oCACPkC,KACQM,MAASD,EACbD,OAAQH,IAEJR,EAAAc,QAAAH,KADIA,EAARX,EAAAa,UAIAb,IAAEc,WAAF,UACHJ,GACDC,EAAQE,KAAAA,WACA,IAAAb,EAAA3B,EAARoB,MACIiB,KAAJrB,SAAc,WACVW,EAASe,OAAAf,EAAAgB,QAAWN,OAkBfjC,KAAAY,SAhBD,SAEC4B,IACJ,GALDhB,EAAAe,MAAA,GAAAf,EAAAc,OAAA,EAAA,CAMHlB,EAAA,eAAAI,GACGgB,IAAOC,EAAAjB,EAAPgB,MACQD,EAAJf,EAAAc,OACAlB,EAAOc,EAAAK,QACHE,EAAMjB,EAAIe,SAAME,EAAAC,EAAAC,EAAAC,IAAAhB,EAChBc,EAAMlB,KAAIc,MADd,OAAAA,OAAA,OAAAO,SAAAF,GAAAF,EAAAC,GAAAE,GAAA,EAAA,aAEID,EAAMT,KAAIK,MAFd,OAAAD,OAAA,OAAAO,OAAA,WAAAD,GAAAH,EAAAC,GAAAC,GAAA,EAAA,OAGIC,EAAMV,WALmBV,QAOzBD,WAAMiB,KAIVpB,EAAAA,OAAAA,OAAO,KAEPV,MAzFnB,CA2FYoC,OAAAjD,OAhBDC","file":"yunu.js","sourcesContent":[";(($, window, document, undefined) => {\r\n    window.yunu = {\r\n        letter(fn) {\r\n            if (typeof arguments[0] != 'function') return;\r\n            fn();\r\n            let times = typeof arguments[1] != 'number'?300:arguments[1],\r\n                timer = null,\r\n                st = new Date().getTime();\r\n            return function() {\r\n                let et = new Date().getTime();\r\n                if (et - st < times) {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function() {\r\n                        //return fn.apply(this,arguments);\r\n                        fn();\r\n                    }, times);\r\n                } else{\r\n                    clearTimeout(timer);\r\n                    st = et;\r\n                    fn();\r\n                };\r\n            };\r\n        },\r\n        throttle(fn, timer = 300, type) {\r\n            if (typeof fn != 'function') return;\r\n            fn();\r\n\r\n            typeof _ == 'function'?\r\n            fn = _.throttle(fn, 300):\r\n            fn = this.letter(fn, 300);\r\n\r\n            switch (type) {\r\n                case \"scroll\":\r\n                    $(window).scroll(fn);\r\n                    break;\r\n                default:\r\n                    $(window).resize(fn);\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n\r\n    $.fn.imgAuto = function(co, fn) {\r\n        fn = fn || {};\r\n        let fncall = (name, arg) => {\r\n            if (typeof fn[name] === 'function') fn[name](arg);\r\n        };\r\n        $(this).each(function() {\r\n            let t = $(this),\r\n                img = new Image(),\r\n                cover = t.attr('img-Auto') == 'cover'||co?true:false,\r\n                _w = t.attr('width'),\r\n                _h = t.attr('height'),\r\n                boxScale = t.attr('box-Scale'),\r\n                box;\r\n            t.css({'display':'block','opacity':0});\r\n            img.src = t.attr('src');\r\n            if ( !t.parent().hasClass('imgAuto_box') && ( t.attr('no-Box') || _w && _h ) ) {\r\n                box = $('<div class=\"imgAuto_box\"></div>');\r\n                box.css({\r\n                    \"width\":_w,\r\n                    \"height\":_h\r\n                });\r\n                t.wrapAll(box);\r\n            }\r\n            box = t.parent();\r\n            box.css('overflow', 'hidden');\r\n            if (boxScale) {\r\n                box.each(function() {\r\n                    let t = $(this);\r\n                    yunu.throttle(function() {\r\n                        t.height(t.width()/boxScale);\r\n                    });\r\n                });\r\n            };\r\n            let move = function() {\r\n                if (img.width>0 || img.height>0) {\r\n                    fncall('imgAutoStart', img);\r\n                    let i_w = img.width,//原图宽\r\n                        i_h = img.height,//原图高\r\n                        b_w = box.width(),//父元素宽\r\n                        b_h = box.height();//父元素高\r\n                    if ( i_w/i_h < b_w/b_h === cover ) {\r\n                        t.css({'width':'100%','height':'auto','margin':-(b_w / (i_w/i_h) - b_h)/2 + 'px 0 0 0'});\r\n                    }else{\r\n                        t.css({'width':'auto','height':'100%','margin':'0 0 0 ' + -(b_h * (i_w/i_h) - b_w)/2 + 'px'});\r\n                    }\r\n                    fncall('callback', img);\r\n                }else{\r\n                    setTimeout(move);\r\n                }\r\n            }\r\n            yunu.throttle(move);\r\n            t.fadeTo('fast', 1);\r\n        });\r\n        return this;\r\n    };\r\n})(jQuery, window, document);"],"sourceRoot":"src/source/js"}