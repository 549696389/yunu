"use strict";!function(t,n,e,a){n.yunu={letter:function(t){if("function"==typeof arguments[0]){t();var n="number"!=typeof arguments[1]?300:arguments[1],e=null,a=(new Date).getTime();return function(){var i=(new Date).getTime();i-a<n?(clearTimeout(e),e=setTimeout(function(){t()},n)):(clearTimeout(e),a=i,t())}}},throttle:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments[2];if("function"==typeof e){switch(e(),e="function"==typeof _?_.throttle(e,300):this.letter(e,300),a){case"scroll":t(n).scroll(e);break;default:t(n).resize(e)}return this}},rem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,a=e.getElementsByTagName("html")[0],i=function(){var n=e.documentElement.clientWidth;n=n>t?t:n,a.style.fontSize=n/t*100+"px"};return i(),n.onresize=i,this},nav:function(){var n=t("#menu"),e=t("#nav"),a=t("#nav>ul>li>a").filter(function(n){return t(this).css({"animation-delay":n/10+"s"}).next("ul").children().length});return n.click(function(){e.hasClass("active")?e.removeClass("active"):e.addClass("active")}),a.each(function(){t(this).prop("href","javascript:;").append('<i class="fa fa-angle-down"></i>')}).click(function(n){var e=t(this);a.next("ul").slideUp("fast"),e.hasClass("active")?e.removeClass("active"):e.addClass("active").next("ul").slideDown("fast")}),this},gotop:function(){var e=t("#gotop"),a=t("html,body"),i=t(n);return e.click(function(){event.stopPropagation(),event.preventDefault(),a.animate({scrollTop:0})}),yunu.throttle(function(){i.scrollTop()>50?e.fadeIn():e.fadeOut()},300,"scroll"),this},getDbJson:function(t){return JSON.parse(localStorage.getItem(t))},setDbJson:function(t,n){localStorage.setItem(t,JSON.stringify(n))},loadMore:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){t.ajax({url:n.url,type:n.type,data:n.data,dataType:"jsonp",beforeSend:function(t){n.beforeSend(t),n.btn.attr("disabled",!0)}}).done(function(t,e,a){n.done(t,e,a),(!t.data.length||!n.data.limit||t.data.length<n.data.limit)&&n.btn.replaceWith(n.load_more_none)}).fail(function(t,e,a){n.fail(t,e,a)}).always(function(t,e,a){n.always(t,e,a),n.key=!0,n.btn.attr("disabled",!1)})};(n=t.extend(!0,{key:!0,url:"",type:"POST",btn:t("#load_more_btn"),box:t("#list>ul"),data:{pages:1,limit:5},beforeSend:function(){},done:function(){},fail:function(){},always:function(){},load_icon:!0,load_icon_class:"",loading:t('<div class="la-ball-fall"><div></div><div></div><div></div><div></div></div>'),load_more_none:t('<p class="load_more_none tac c_red mt20">没有了</p>')},n)).load_icon&&(t(n.loading).addClass(n.load_icon_class),n.btn.after(n.loading)),n.btn.click(function(){n.key&&(n.key=!1,n.data.pages++,e())})}},yunu.rem(),t(function(){yunu.nav().gotop()}),t.fn.imgAuto=function(n,e){var a=this;e=e||{};var i=function(t,n){"function"==typeof e[t]&&e[t](n)};return t(this).each(function(){var e=t(a),o=new Image,l=!("cover"!=e.attr("img-Auto")&&!n),c=e.attr("width"),r=e.attr("height"),s=e.attr("box-Scale"),u=void 0;e.css({display:"block",opacity:0}),o.src=e.attr("src"),!e.parent().hasClass("imgAuto_box")&&(e.attr("no-Box")||c&&r)&&((u=t('<div class="imgAuto_box"></div>')).css({width:c,height:r}),e.wrapAll(u)),(u=e.parent()).css("overflow","hidden"),s&&u.each(function(){var n=t(a);yunu.throttle(function(){n.height(n.width()/s)})});yunu.throttle(function t(){if(o.width>0||o.height>0){i("imgAutoStart",o);var n=o.width,a=o.height,c=u.width(),r=u.height();n/a<c/r===l?e.css({width:"100%",height:"auto",margin:-(c/(n/a)-r)/2+"px 0 0 0"}):e.css({width:"auto",height:"100%",margin:"0 0 0 "+-(r*(n/a)-c)/2+"px"}),i("callback",o)}else setTimeout(t)}),e.fadeTo("fast",1)}),this}}(jQuery,window,document);
//# sourceMappingURL=yunu.m.js.map
